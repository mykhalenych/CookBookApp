(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{65:function(e,t,n){e.exports=n(76)},76:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(8),c=n.n(i),o=n(15),l=n(113),u=n(111),m=n(112),s=n(105),d=n(57),p=n.n(d),f=n(108),E=n(110),g=n(119),h=n(120),b=n(39),y=n.n(b),O=n(18),v="https://5eca820038df9600165117b6.mockapi.io/mock",j=function(e,t){try{return fetch("".concat(v,"/").concat(e),{method:"PUT",headers:{"Content-type":"application/json;charset=utf-8"},body:JSON.stringify(t)})}catch(n){throw new Error("Faild to create recipe")}},R=function(){return function(e){fetch(v).then((function(e){try{return e.json()}catch(t){throw new Error("Faild to get recipes")}})).then((function(e){return e})).then((function(t){return e(function(e){return{type:"RECIPE_LIST_RECIEVED",payload:{recipeList:e}}}(t))}))}},C=function(e,t,n){return function(a){(function(e){try{return fetch(v,{method:"POST",headers:{"Content-type":"application/json; charset=utf-8"},body:JSON.stringify(e)})}catch(t){throw new Error("Faild to create recipe")}})({title:e,description:t,image:n,createAt:(new Date).toISOString()}).then((function(){return a(R())}))}},N=Object(s.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",position:"fixed",zIndex:1e3,backgroundColor:"#fafafa",marginLeft:100},form:{width:"100%",marginTop:e.spacing(1),padding:15},submit:{margin:e.spacing(3,0,2)},icon:{position:"absolute",right:0},wrap:{margin:e.spacing(1)},input:{display:"none"}}})),x={crateRecipe:C},w=Object(O.b)(null,x)((function(e){var t=e.closeModal,n=e.onCreate,i=Object(a.useState)(""),c=Object(o.a)(i,2),l=c[0],u=c[1],m=Object(a.useState)(""),s=Object(o.a)(m,2),d=s[0],p=s[1],b=Object(a.useState)(""),O=Object(o.a)(b,2),v=O[0],j=O[1],R=N();return r.a.createElement(f.a,{component:"div"},r.a.createElement(E.a,null),r.a.createElement("div",{className:R.paper},r.a.createElement(y.a,{className:R.icon,onClick:t}),r.a.createElement("form",{className:R.form},r.a.createElement(g.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Title",name:"title",autoFocus:!0,onChange:function(e){return function(e){p(e.target.value)}(e)}}),r.a.createElement(g.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"description",label:"Description",type:"description",id:"description",onChange:function(e){return function(e){j(e.target.value)}(e)}}),r.a.createElement(g.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"images",label:"image url",type:"images",id:"images",onChange:function(e){return function(e){u(e.target.value)}(e)}}),r.a.createElement(h.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:R.submit,onClick:function(){n(d,v,l),t()}},"Add Recipe"))))})),I=Object(s.a)((function(e){return{icon:{marginRight:e.spacing(2)}}})),S=function(e){var t=e.onCreate,n=Object(a.useState)(!1),i=Object(o.a)(n,2),c=i[0],s=i[1],d=I();return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{position:"relative"},r.a.createElement(m.a,null,r.a.createElement(p.a,{className:d.icon,onClick:function(){return s(!0)}}),r.a.createElement(l.a,{variant:"h6",color:"inherit",noWrap:!0},"Add new recipe"))),c&&r.a.createElement(w,{closeModal:function(){s(!1)},onCreate:t}))},T=n(11),k=n(114),D=n(115),L=n(116),_=n(117),M=n(118),V=function(e){return e.recipe.recipeList},W=function(e){return e.recipe.currentRecipe},B=function(e){return e.recipe.currentRecipe},F=n(25),G=Object(s.a)((function(e){return{cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1}}})),P={getRecipeList:R},q=Object(O.b)((function(e){return{recipe:V(e)}}),P)((function(e){var t=e.recipe,n=e.getRecipeList;Object(a.useEffect)((function(){n()}),[]);var i=G();return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{className:i.cardGrid},r.a.createElement(k.a,{container:!0,spacing:4},t.map((function(e){return r.a.createElement(k.a,{item:!0,key:e.id,xs:12,sm:6,md:4},r.a.createElement(D.a,{className:i.card},r.a.createElement(L.a,{className:i.cardMedia,image:e.image,title:"Image title"}),r.a.createElement(_.a,{className:i.cardContent},r.a.createElement(l.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.title),r.a.createElement(l.a,null,e.description)),r.a.createElement(M.a,null,r.a.createElement(F.b,{to:"/".concat(e.id)},r.a.createElement(h.a,{size:"small",color:"primary"},"View")))))}))))):r.a.createElement(k.a,{container:!0,spacing:4},"Recipes not found")})),H=n(121),z=Object(s.a)((function(e){return{editor:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",position:"fixed",zIndex:1e3,backgroundColor:"#fafafa",top:100},textfield:{width:"100%",marginTop:e.spacing(1),padding:"15px"},submit:{margin:e.spacing(3,0,2)},icon:{position:"absolute",right:0},wrap:{margin:e.spacing(1)},input:{display:"none"}}})),A=function(e){var t=e.closeModal,n=e.onEdit,i=e.id,c=e.editHistory,l=Object(a.useState)(""),u=Object(o.a)(l,2),m=u[0],s=u[1],d=Object(a.useState)(""),p=Object(o.a)(d,2),f=p[0],E=p[1],b=Object(a.useState)(""),O=Object(o.a)(b,2),v=O[0],j=O[1],R=z();return r.a.createElement("div",{className:R.editor},r.a.createElement(y.a,{className:R.icon,onClick:t}),r.a.createElement("form",{className:R.textfield},r.a.createElement(g.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"title",label:"Title",name:"title",autoFocus:!0,onChange:function(e){return function(e){E(e.target.value)}(e)}}),r.a.createElement(g.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"description",label:"Description",type:"description",id:"description",onChange:function(e){return function(e){j(e.target.value)}(e)}}),r.a.createElement(g.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"images",label:"image url",type:"images",id:"images",onChange:function(e){return function(e){s(e.target.value)}(e)}}),r.a.createElement(h.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:R.submit,onClick:function(){var e={image:m,title:f,description:v};n(i,e),c(i,e),t()}},"Edit Recipe")))},J=Object(s.a)((function(e){return{cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},flex:{display:"flex"},content:{display:"contents"}}})),U={getReicepeListById:function(e){return function(t){(function(e){return fetch("".concat(v,"/").concat(e)).then((function(e){try{return e.json()}catch(t){throw new Error("Faild to get recipes")}})).then((function(e){return e}))})(e).then((function(e){return t(function(e){return{type:"SINGLE_RECIPE_RECIVED",payload:{curentRecipe:e}}}(e))}))}},updateRecipe:function(e,t){return function(n){j(e,t).then((function(){return n(R())}))}},deleteRecipe:function(e){return function(t){(function(e){try{return fetch("".concat(v,"/").concat(e),{method:"DELETE"})}catch(t){throw new Error("Faild to create recipe")}})(e).then((function(){return t(R())}))}},updateHistoryRecipe:function(e){return function(t,n){var a={historyVersion:n().recipe.currentRecipe,createAt:(new Date).toISOString()};j(e,a).then((function(){return t(R())}))}}},X=Object(O.b)((function(e){return{currentRecipe:W(e),history:B(e)}}),U)((function(e){var t=e.getReicepeListById,n=e.currentRecipe,i=e.updateRecipe,c=e.deleteRecipe,u=e.history,m=e.updateHistoryRecipe,s=Object(a.useState)(!1),d=Object(o.a)(s,2),p=d[0],E=d[1],g=Object(T.g)().id,b=Object(T.f)();Object(a.useEffect)((function(){t(g)}),[u,n]);var y=J();return n?r.a.createElement("div",{className:y.flex},r.a.createElement(F.b,{to:"/"},r.a.createElement(H.a,null,"Go Back")),r.a.createElement("div",{className:y.content},r.a.createElement(f.a,{maxWidth:"sm"},p&&r.a.createElement(A,{closeModal:function(){E(!1)},onEdit:i,editHistory:m,id:g}),r.a.createElement("h3",null,"Recipe"),r.a.createElement(D.a,{className:y.card},r.a.createElement(L.a,{className:y.cardMedia,image:n.image,title:"Image title"}),r.a.createElement(_.a,{className:y.cardContent},r.a.createElement(l.a,{gutterBottom:!0,variant:"h5",component:"h2"},n.title),r.a.createElement(l.a,null,n.description)),r.a.createElement(M.a,null,r.a.createElement(h.a,{size:"small",color:"primary",onClick:function(){return function(e){c(e),b.push("/")}(g)}},"Delete"),r.a.createElement(h.a,{size:"small",color:"primary",onClick:function(){return E(!0)}},"Edit"))))),u.historyVersion?r.a.createElement("div",{className:y.content},r.a.createElement(f.a,{maxWidth:"sm"},r.a.createElement("h3",null,"History"),r.a.createElement(D.a,{className:y.card},r.a.createElement(L.a,{className:y.cardMedia,image:u.historyVersion.image,title:"Image title"}),r.a.createElement(_.a,{className:y.cardContent},r.a.createElement(l.a,{gutterBottom:!0,variant:"h5",component:"h2"},u.historyVersion.title),r.a.createElement(l.a,null,u.historyVersion.description))))):r.a.createElement("div",null,"No History")):r.a.createElement("div",null,"Recipes not found")})),K=[{path:"/:id",component:r.a.createElement(X,null),exact:!0},{path:"/",component:r.a.createElement(q,null),exact:!0}],Q={createRecipe:C},Y=Object(O.b)(null,Q)((function(e){var t=e.createRecipe;return(r.a.createElement("div",{className:"App"},r.a.createElement(S,{onCreate:t}),r.a.createElement("main",null,r.a.createElement(T.c,null,K.map((function(e){return r.a.createElement(T.a,{exact:e.exact,key:e.toString(),path:e.path},e.component)}))))))})),Z=n(27),$=n(58),ee=n(34),te={recipeList:[]},ne=Object(Z.c)({recipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECIPE_LIST_RECIEVED":return Object(ee.a)(Object(ee.a)({},e),{},{recipeList:t.payload.recipeList});case"SINGLE_RECIPE_RECIVED":return Object(ee.a)(Object(ee.a)({},e),{},{currentRecipe:t.payload.curentRecipe});default:return e}}}),ae=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Z.d,re=Object(Z.e)(ne,ae(Object(Z.a)($.a)));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F.a,null,r.a.createElement(O.a,{store:re},r.a.createElement(Y,null)))),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.c26133e9.chunk.js.map